import { Board, Mark, SqId } from "./Board";
import { Cpu1 } from "./Cpu1";

test.each([
    ['o'],
    ['x'],
] as [Mark][])('.create(): [%s | ]', (mark) => {
    // arrange
    // act
    const a = Cpu1.create(mark);
    // assert
    const expected = { mark };
    expect(a).toEqual(expected);
});

test.each([
    ['o', [
        '-', '-', '-',
        '-', '-', '-',
        '-', '-', '-'
    ], ['00', '02', '20', '22']],
    ['x', [
        'o', '-', '-',
        '-', '-', '-',
        '-', '-', '-'
    ], ['11']],
    ['o', [
        'o', '-', '-',
        '-', 'x', '-',
        '-', '-', '-'
    ], ['02', '20']],
    ['x', [
        'o', '-', '-',
        '-', 'x', '-',
        '-', '-', 'o'
    ], ['01', '10', '12', '21']],
    ['o', [
        'o', 'x', '-',
        '-', 'x', '-',
        '-', '-', 'o'
    ], ['21']],
    ['x', [
        'o', 'x', '-',
        '-', 'x', '-',
        '-', 'o', 'o'
    ], ['20']],
    ['o', [
        'o', 'x', '-',
        '-', 'x', '-',
        'x', 'o', 'o'
    ], ['02']],
    ['x', [
        'o', 'x', 'o',
        '-', 'x', '-',
        'x', 'o', 'o'
    ], ['12']],
    ['o', [
        'o', 'x', 'o',
        '-', 'x', 'x',
        'x', 'o', 'o'
    ], ['10']],

    ['o', [
        'o', 'x', '-',
        'x', 'x', '-',
        'o', '-', 'o'
    ], ['21']],
    ['o', [
        'o', 'x', '-',
        'x', '-', '-',
        'o', 'x', 'o'
    ], ['11']],
    ['x', [
        'o', 'x', 'o',
        'x', '-', '-',
        'o', '-', '-'
    ], ['11']],
    ['x', [
        'o', 'x', '-',
        'x', '-', '-',
        'o', '-', 'o'
    ], ['11', '21']],
    ['o', [
        'o', 'x', '-',
        'x', '-', '-',
        'o', '-', '-'
    ], ['11', '22']],
    // ['o', ['-', '-', '-', '-', '-', '-', '-', '-', '-',], ['00', '02', '20', '22']],
] as [Mark, Board, SqId[]][])('.nextCandidates(): [%s, %s | %s]', (mark, board, expected) => {
    // arrange
    const sut = Cpu1.create(mark);
    // act
    const a = sut.nextCandidates(board);
    // assert
    expect(a).toEqual(expected);
});
